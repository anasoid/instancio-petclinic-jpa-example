

# This workflow will build a Java project with Gradle
# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle


name: publish

on:
  workflow_dispatch:
    inputs:
      comment:
        description: 'comment'
        required: true
        default: 'TODO'
  release:
    types: [created ]

jobs:
  build:

    runs-on: ubuntu-24.04

    steps:

      - name: Checkout
        uses: actions/checkout@v4

      - name: Checkout pet clinic
        uses: actions/checkout@v4
        with:
          repository: anasoid/spring-petclinic
          path: './petclinic'

      - name : Set up JDK 17
        uses : actions/setup-java@v4
        with :
          java-version : 17
          distribution : 'temurin'

      - name : Setup Gradle
        uses : gradle/actions/setup-gradle@v4
        with :
          build-scan-publish : true
          build-scan-terms-of-use-url : "https://gradle.com/terms-of-service"
          build-scan-terms-of-use-agree : "yes"

      - name : Build with Gradle
        run : ./gradlew build

